trigger:
  branches:
    include:
    - main
  paths:
    include:
    - 05MVC/NoteTakingApp
    - 06DevOps/azure-pipelines-notes-app.yml

pr: none

variables:
  slnPath: 05MVC/NoteTakingApp

stages:
- stage: build
  jobs:
  - job: build
    pool:
      vmImage: ubuntu-latest
    steps:

    - script: dotnet build --configuration Release
      displayName: dotnet build
      workingDirectory: $(slnPath)

    - script: dotnet test --configuration Release
      displayName: dotnet test
      workingDirectory: $(slnPath)

      # next steps...
      # deploying to azure app service
      # better integration/reporting with azure pipelines?
        # you can report test results to azure pipelines
        # so it can show them in its GUI
      # static analysis with a tool like sonarcloud